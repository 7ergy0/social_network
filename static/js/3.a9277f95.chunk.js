(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[3],{296:function(e,t,s){"use strict";s.d(t,"a",(function(){return j}));var o=s(3),i=s(21),n=(s(0),s(9)),c=s(15),r=s(12),a=s(1),l=function(e){return{isAuth:e.auth.isAuth}};function j(e){return Object(r.d)(Object(c.b)(l))((function(t){t.isAuth;var s=Object(i.a)(t,["isAuth"]);return t.isAuth?Object(a.jsx)(e,Object(o.a)({},s)):Object(a.jsx)(n.a,{to:"/login"})}))}},297:function(e,t,s){e.exports={profile:"Profile_profile__3tjQk"}},298:function(e,t,s){e.exports={profileInfo:"ProfileInfo_profileInfo__1wh7k",descriptionBlock:"ProfileInfo_descriptionBlock__1tXEn",contacts:"ProfileInfo_contacts__1EuP4"}},299:function(e,t,s){e.exports={photo:"ProfilePhoto_photo__33C1d"}},300:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__N1xvb",posts:"MyPosts_posts__1ASRm"}},301:function(e,t,s){e.exports={post:"Post_post__XNwgh",item:"Post_item__37Gze"}},303:function(e,t,s){"use strict";s.r(t);var o=s(3),i=s(36),n=s(37),c=s(39),r=s(38),a=s(0),l=s.n(a),j=s(297),u=s.n(j),b=s(97),d=s(21),p=s(298),f=s.n(p),h=s(69),O=s(299),x=s.n(O),v=s(118),m=s(1),P=function(e){Object(c.a)(s,e);var t=Object(r.a)(s);function s(){var e;Object(i.a)(this,s);for(var o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={editMode:!1,image:e.props.image},e.activeEditMode=function(){e.setState({editMode:!0})},e.activeViewMode=function(){e.setState({editMode:!1}),e.props.updateStatusProfile(e.state.image)},e.onSavePhotoProfile=function(t){t.currentTarget.files&&e.props.savePhotoProfile(t.currentTarget.files[0])},e}return Object(n.a)(s,[{key:"render",value:function(){return Object(m.jsx)("div",{className:x.a.photo,children:this.state.editMode&&this.props.isOwner?Object(m.jsx)("input",{type:"file",onChange:this.onSavePhotoProfile}):Object(m.jsx)("span",{children:Object(m.jsx)("img",{src:this.props.image||v.a,onDoubleClick:this.activeEditMode})})})}}]),s}(l.a.Component);var g=function(e){console.log("render");var t=Object(a.useState)(!1),s=Object(b.a)(t,2),o=s[0],i=s[1],n=Object(a.useState)(e.status),c=Object(b.a)(n,2),r=c[0],l=c[1];return Object(a.useEffect)((function(){console.log("Effect"),l(e.status)}),[e.status]),Object(m.jsx)("div",{children:o?Object(m.jsx)("input",{value:r,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){i(!1),e.updateStatusProfile(r)},autoFocus:!0}):Object(m.jsxs)("span",{onDoubleClick:function(){i(!0)},children:[Object(m.jsx)("b",{children:"Status:"})," ",e.status||"-----"]})})},k=s(129),_=s(130),y=s(41),S=s.n(y),A=Object(_.a)({form:"contacts"})((function(e){var t=e.profile,s=e.error,o=Object(d.a)(e,["profile","error"]).handleSubmit;return Object(m.jsxs)("form",{onSubmit:o,children:[s&&Object(m.jsx)("div",{className:S.a.formError,children:s}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{children:"save"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"fullName",children:Object(m.jsx)("b",{children:"Full name:"})}),Object(m.jsx)(k.a,{name:"fullName",component:"input",type:"text"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"lookingForAJob",children:Object(m.jsx)("b",{children:"Looking for a job:"})}),Object(m.jsx)(k.a,{name:"lookingForAJob",component:"input",type:"checkbox"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"myProfessionalSkills",children:Object(m.jsx)("b",{children:"My professional skills:"})}),Object(m.jsx)(k.a,{name:"lookingForAJobDescription",component:"input",type:"text"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"aboutMe",children:Object(m.jsx)("b",{children:"About me:"})}),Object(m.jsx)(k.a,{name:"aboutMe",component:"input",type:"text"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts:"}),Object.keys(t.contacts).map((function(e,t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("b",{children:[e,":"]}),Object(m.jsx)(k.a,{name:"contacts."+e,component:"input",type:"text"})]},t)}))]})]})}));var M=function(e){var t=e.saveProfile,s=Object(d.a)(e,["saveProfile"]),o=Object(a.useState)(!1),i=Object(b.a)(o,2),n=i[0],c=i[1];return s.profile?s.isOwner&&Object(m.jsx)("div",{className:f.a.profileInfo,children:Object(m.jsxs)("div",{className:f.a.descriptionBlock,children:[Object(m.jsx)(P,{image:s.profile.photos.large,isOwner:s.isOwner,savePhotoProfile:s.savePhotoProfile}),Object(m.jsx)("div",{children:n?Object(m.jsx)(A,{profile:s.profile,initialValues:s.profile,onSubmit:function(e){t(e)}}):Object(m.jsx)(N,{profile:s.profile,isOwner:s.isOwner,goToEditMode:function(){c(!0)}})}),Object(m.jsx)(g,{status:s.status,updateStatusProfile:s.updateStatusProfile})]})}):Object(m.jsx)(h.a,{})},w=function(e){return Object(m.jsxs)("div",{className:f.a.contacts,children:[Object(m.jsxs)("b",{children:[e.contactTitle,":"]})," ",e.contactValue]})},N=function(e){return Object(m.jsxs)("div",{children:[e.isOwner&&Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:e.goToEditMode,children:"edit"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Full Name:"}),e.profile.fullName]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Looking for a job:"}),e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"My professional skills:"}),e.profile.lookingForAJobDescription]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"About me:"}),e.profile.aboutMe]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts:"}),Object.keys(e.profile.contacts).map((function(t,s){return Object(m.jsx)(w,{contactTitle:t,contactValue:e.profile.contacts[t]},s)}))]})]})},F=s(300),C=s.n(F),I=s(301),E=s.n(I);var J=function(e){return Object(m.jsxs)("div",{className:E.a.posts,children:[Object(m.jsxs)("div",{className:E.a.item,children:[Object(m.jsx)("img",{src:"https://s00.yaplakal.com/pics/pics_original/7/6/7/14289767.jpg"}),e.message]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{children:"like"}),Object(m.jsx)("span",{children:e.likesCount})]})]})},B=s(67),D=s(89);var T=function(e){var t=e.state.profilePage.postsData.map((function(e){return Object(m.jsx)(J,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(m.jsxs)("div",{className:C.a.postsBlock,children:[Object(m.jsx)("h3",{children:"My Post"}),Object(m.jsx)("div",{children:Object(m.jsx)(V,{onSubmit:function(t){e.addPostAction(t.addMyPost)}})}),Object(m.jsx)("div",{className:C.a.posts,children:t})]})};var V=Object(_.a)({form:"AddMyPostForm"})((function(e){return Object(D.a)(50),Object(m.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(m.jsx)("div",{children:Object(m.jsx)(k.a,{name:"addMyPost",component:B.b,validate:D.b})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{children:"Add post"})})]})})),U=s(96),L=s(15),X=s(12),z=Object(X.d)(Object(L.b)((function(e){return{state:e}}),(function(e){return{addPostAction:function(t){e(Object(U.a)(t))}}})))(T);var G=function(e){return Object(m.jsxs)("div",{className:u.a.profile,children:[Object(m.jsx)(M,{profile:e.profile,status:e.status,updateStatusProfile:e.updateStatusProfile,isOwner:e.isOwner,savePhotoProfile:e.savePhotoProfile,saveProfile:e.saveProfile}),Object(m.jsx)(z,{})]})},Q=s(9),R=s(296),q=function(e){Object(c.a)(s,e);var t=Object(r.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.defaultProfile(e),this.props.getStatusProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)(G,Object(o.a)(Object(o.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile,isOwner:!this.props.match.params.userId,savePhotoProfile:this.props.savePhotoProfile,saveProfile:this.props.saveProfile}))}}]),s}(l.a.Component);t.default=Object(X.d)(Object(L.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{defaultProfile:U.c,getStatusProfile:U.d,updateStatusProfile:U.g,savePhotoProfile:U.e,saveProfile:U.f}),Q.f,R.a)(q)}}]);
//# sourceMappingURL=3.a9277f95.chunk.js.map